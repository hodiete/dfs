$=jQuery;var maxDesktop=1024,startBrowserWidth=window.innerWidth,menuList=$("#webny-global-header > ul"),menuItems=$("#webny-global-header > ul > li"),menuNoLink=$("#webny-global-header > ul > li > span"),agencyNameLink=$("#webny-global-header > h1 a"),menuDrops=$("#webny-global-header > ul > li > ul"),drupalLayout=$("main, .webny-global-footer"),lastItem=$("#webny-global-header").find("li.gnav-topli").last(),lastItemLeftPos=$(lastItem).position().left,windowRightPos=$(window).width(),lastItemDiff=windowRightPos-lastItemLeftPos,running=null,curViewMode=getViewMode(maxDesktop,startBrowserWidth),changeNavEventMode=!1,clickVals="click touchend",_nav_inactive="webny-global-inactive",_nav_active="webny-global-active",_gnav_ul="gnav-ul",_gnavitems="gnav-mitems",_gnav_items_ul="gnav-items-ul",gnav_subm_items=".gnav-items-ul > li",menu_control="#webny-menu-control";function desktop_mode(){1<$(menuItems).children().length&&$(menuNoLink).attr("tabindex",0),$(menuItems).hover(function(){addAriaExpand(this,!0),addAriaHidden(menuDrops,!1),changeClass(this,_nav_active,_nav_inactive)},function(){addAriaExpand(menuItems,!1),addAriaHidden(menuDrops,!0),changeClass(this,"",_nav_active)}),$(menuItems).keyup(function(e){9!==e.which&&9!==e.value||($(this).children().last().hasClass("gnav-items-ul")?(addAriaExpand(menuItems,!1),addAriaExpand(this,!0),addAriaHidden(menuDrops,!1),$(menuItems).removeClass("webny-global-active"),$(this).addClass("webny-global-active")):resetToDeafultNavState())}),lastItemDiff<300&&$(lastItem).find("ul").css("right","0"),keyupCall(agencyNameLink),keyupCall(drupalLayout)}function mobile_mode(){$.each($("."+_gnavitems),function(e,a){$(this).children().last().hasClass(_gnav_items_ul)&&$(this).children().first().attr("href","#")}),$(document).on(clickVals,gnav_subm_items,function(){running=!0}),$(document).on(clickVals,".gnav-ul > .gnav-mitems",function(e){$(this).hasClass("webny-global-active")?$(this).children().last().hasClass("gnav-items-ul")&&!0!==running&&(e.preventDefault(),e.stopPropagation(),addAriaExpand(menuItems,!1),addAriaHidden(menuDrops,!0),changeClass(menuItems,"",_nav_active),changeClass(menuItems,"",_nav_inactive)):$(this).children().last().hasClass("gnav-items-ul")&&($(menuItems).addClass(_nav_inactive),addAriaExpand(this,!0),addAriaHidden(menuDrops,!1),changeClass(this,_nav_active,_nav_inactive),$(this).removeAttr("style"),e.preventDefault(),e.stopPropagation(),running=null)}),$(document).on(clickVals,menu_control,function(e){e.stopPropagation(),e.preventDefault(),$(this).hasClass(_nav_active)?($(this).removeClass(_nav_active),$("."+_gnav_ul).removeClass(_nav_active)):($(this).addClass(_nav_active),$("."+_gnav_ul).addClass(_nav_active),changeClass(this,_nav_active,_nav_inactive))})}function responsiveNav(){$(window).resize(function(){window.innerWidth>=maxDesktop&&"Mobile"===curViewMode&&(curViewMode="Desktop",changeNavEventMode=!0),window.innerWidth<maxDesktop&&"Desktop"===curViewMode&&(curViewMode="Mobile",changeNavEventMode=!0),changeNavEventMode&&("Mobile"===curViewMode&&($(menuItems).unbind("mouseenter").unbind("mouseleave"),mobile_mode()),"Desktop"===curViewMode&&($(document).off("click touchend",gnav_subm_items),$(document).off("click touchend",".gnav-ul > .gnav-mitems"),$(document).off("click touchend",menu_control),desktop_mode()),changeNavEventMode=!1)})}function addClasses(e){for(var a=0;a<e.length;++a)$(e[a][0]).addClass(e[a][1])}function changeClass(e,a,n){$(e).removeClass(n).addClass(a)}function getViewMode(e,a){return e<=a?"Desktop":"Mobile"}function addAriaExpand(e,a){$(e).attr("aria-expanded",a)}function addAriaHidden(e,a){$(e).attr("aria-hidden",a)}function resetToDeafultNavState(){addAriaExpand(menuItems,!1),addAriaHidden(menuDrops,!0),$(menuItems).removeClass("webny-global-active")}function keyupCall(e){$(e).keyup(function(e){e.stopImmediatePropagation(),9!==e.which&&9!==e.value||resetToDeafultNavState()})}$(document).ready(function(){addClasses([[menuList,_gnav_ul],[menuItems,_gnavitems],[menuDrops,_gnav_items_ul]]),addAriaExpand(menuItems,!1),addAriaHidden(menuDrops,!0),responsiveNav(),"Desktop"===curViewMode?desktop_mode():mobile_mode()});