{#
/**
 * @file
 * Theme override to display a node for webny-landing-page.
 *
 *
 *    -- WebNY Landing Page Content Type twig accessors --
 *
 */
#}

{#
/*
 * Begin TWIG NODE-WEBNY-LANDING-PAGE Template
 */
#}

{# @PARAMS #}
{% set hero_image = file_url(node.field_webny_landing_hero_image.entity.field_image.entity.uri.value) %}
{% set title = '' %}
{% set hero = '' %}

{# GET VARS FOR DISPLAYING HERO AND TITLES #}
{%  for k,v in node.field_webny_landing_vis_options %}

    {% if node.field_webny_landing_vis_options[k].value == 'hero' %}
        {% set hero = 'show' %}
    {% endif %}
    {% if node.field_webny_landing_vis_options[k].value == 'title' %}
        {% set title = 'show' %}
    {% endif %}

{% endfor %}

{% if (hero == '' and title == '') %}
   {% set both = 'show' %}
{% else %}
    {% set both = '' %}
{% endif %}



{% if title == 'show' %}

<article {{ attributes.addClass('title-layout') }}>

    {% if hero == '' %}
        {# START QUICK EDITS #}
        {{ title_prefix }}
    {% endif %}


    <div class="landing-title-area">

    <!-- HEADLINE LABEL -->
    <div class="landing-title">
        <h1>{{ label }}</h1>
    </div>

    <!-- SUBTITLE LABEL -->
    <div class="landing-subtitle">
        <span>{{ node.field_webny_landing_subtitle2[0].value }}</span>
    </div>

</div>

    {% if hero == '' %}
        {# END QUICK EDITS #}
        {{ title_suffix }}
    {% endif %}


</article>

{% endif %}

<!-- Logic to Display or Not to Display the Hero section -->
{% if hero == 'show' or both == 'show' %}

<article {{ attributes.addClass('hero-layout') }}>

    {# START QUICK EDITS #}
    {{ title_prefix }}
    
    {% if hero_image == '/' %}
    <div class="hero-header hero-no-image hero-landing" style="">
    {% else %}
    <div class="hero-header hero-has-image hero-landing" style="background-image:url('{{ hero_image }}')">
    {% endif %}
        
        <!-- BACKGROUND GRAD -->
        <div class="hero-bkg"></div>
    </div> 

    {% if hero_image == '/' %}
        <div class="hero-inner hero-landing-inner">
    {% else %}
        <div class="hero-inner hero-landing-inner hero-has-image-content">
    {% endif %}  
            <!-- HEADLINE LABEL -->
            {% if node.field_webny_landing_hero_title.value is empty %}
            {% else %}
                <h2>{{ node.field_webny_landing_hero_title.value }}</h2>
            {% endif %}

            <div class="hero-summary">
                {{ content.field_webny_landing_summary2 }}
            </div>

            <!-- KEYWORDS -->
            <div class="hero-keywords">
                {# {{ content.field_webny_landing_global_key }} #}
                {{ content.field_webny_landing_hero_button }}
                {{ content.field_webny_landing_hero_button2 }}
            </div>
            
        </div>

    {{ title_suffix }}

</article>

{% endif %}

<div class="page-paragraphs landing-paragraphs">
    <div class="page-paragraphs-in">
    {{ content.field_webny_landing_paragraph|without('label') }}
    </div>
</div>

<!-- VIEWFIELD -->
{% if node.field_webny_results_view_to_disp.value is empty %}
{% else %}
    {{  content.field_webny_results_view_to_disp }}
{% endif %}
