@webny @media @api
Feature: Video media creation by media manager role.

  @javascript

  Scenario: Creating a YouTube video from a YouTube URL
    Given I am logged into the distro with the "media_manager" role
    When I visit "/media/add/video"
    And I enter "https://www.youtube.com/watch?v=ktCgVopf7D0" for "Video URL"
    And I enter "Drupal 8 video" for "Media name"
    And I wait 5 seconds
    And I press "Save and publish"
    And I visit "/admin/content/media"
    Then I should see "Drupal 8 video"
    And I queue the latest media entity for deletion

  Scenario: Creating a Vimeo video from a Vimeo URL
    Given I am logged into the distro with the "media_manager" role
    When I visit "/media/add/video"
    And I enter "https://vimeo.com/146188114" for "Video URL"
    And I enter "Drupal 8 launch" for "Media name"
    And I wait 5 seconds
    And I press "Save and publish"
    And I visit "/admin/content/media"
    Then I should see "Drupal 8 launch"
    And I queue the latest media entity for deletion

