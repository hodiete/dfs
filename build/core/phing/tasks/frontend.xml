<project name="frontend" default="frontend:install">

  <target name="frontend:build" depends="frontend:install" description="Uses gulp to build front end dependencies for Thunder.">
    <if>
      <!-- We assume that if the theme name is not thunder, then a subtheme of thunder is being used. -->
      <not><equals arg1="${project.theme.name}" arg2="thunder" /></not>
      <then>
        <exec dir="${docroot}/profiles/custom/webny/themes/custom/webny_theme" command="npm run build" logoutput="true" checkreturn="true" />
      </then>
    </if>
  </target>
  <target name="frontend:install" description="Installs front end dependencies for Thunder.">
    <if>
      <!-- We assume that if the theme name is not thunder, then a subtheme of thunder is being used. -->
      <not><equals arg1="${project.theme.name}" arg2="thunder" /></not>
      <then>
        <exec dir="${docroot}/profiles/custom/webny/themes/custom/webny_theme" command="npm run install-webny_theme" logoutput="true" checkreturn="true" />
      </then>
    </if>
  </target>
</project>
